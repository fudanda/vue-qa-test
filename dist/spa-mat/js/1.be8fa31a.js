(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{EI62:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row  gutter-sm",staticStyle:{padding:"10px"}},[e("div",{staticClass:" col-xs-12 col-sm-12 col-md-12 col-lg-8"},[e("q-card",{staticClass:"fit shadow-6",attrs:{inline:""}},[e("div",{staticClass:"row q-ma-lg q-pa-md"},[e("div",{staticClass:"col-1 vertical-middle"},[t._v("标题：")]),e("div",{staticClass:"col"},[e("q-input",{model:{value:t.mypost.title,callback:function(s){t.$set(t.mypost,"title",s)},expression:"mypost.title"}})],1)]),e("div",{staticClass:"row q-ma-lg q-pa-md"},[e("div",{staticClass:"col-1"},[t._v("简述：")]),e("div",{staticClass:"col"},[e("q-scroll-area",{staticStyle:{height:"200px"}},[e("q-input",{attrs:{type:"textarea"},model:{value:t.mypost.shortContent,callback:function(s){t.$set(t.mypost,"shortContent",s)},expression:"mypost.shortContent"}})],1)],1)]),e("div",{attrs:{id:"editor"}},[e("mavon-editor",{staticStyle:{height:"100%"},on:{change:t.editorChange},model:{value:t.mypost.mdContent,callback:function(s){t.$set(t.mypost,"mdContent",s)},expression:"mypost.mdContent"}})],1)])],1),e("div",{staticClass:" col-xs-12 col-sm-12 col-md-12 col-lg-4"},[e("q-card",{staticClass:"fit shadow-6 q-pa-md",attrs:{inline:""}},[e("q-card-main",[e("div",{staticClass:"row q-mt-md"},[e("div",{staticClass:"col-4",staticStyle:{"line-height":"40px"}},[t._v("分类:")]),e("div",{staticClass:"col-5"},[e("q-select",{attrs:{filter:"",inverted:"",color:"blue",options:t.catelogs},on:{input:t.get},model:{value:t.mypost.catelog,callback:function(s){t.$set(t.mypost,"catelog",s)},expression:"mypost.catelog"}})],1)]),e("div",{staticClass:"row q-mt-lg"},[e("div",{staticClass:"col-4"},[t._v("系统标签:")]),e("div",{staticClass:"col-5"},[e("q-select",{attrs:{multiple:"",chips:"",color:"blue",options:t.tagOptions},model:{value:t.mypost.tags,callback:function(s){t.$set(t.mypost,"tags",s)},expression:"mypost.tags"}})],1)]),e("div",{staticClass:"row q-mt-lg"},[e("div",{staticClass:"col-4"},[t._v("关键词:")]),e("div",{staticClass:"col-5"},[e("q-chips-input",{attrs:{color:"blue",placeholder:""},model:{value:t.mypost.keyWord,callback:function(s){t.$set(t.mypost,"keyWord",s)},expression:"mypost.keyWord"}})],1)]),e("div",{staticClass:"row q-mt-lg"},[e("div",{staticClass:"col-4"},[t._v("排序:")]),e("div",{staticClass:"col-5"},[e("q-input",{attrs:{type:"number",min:"0"},model:{value:t.mypost.sort,callback:function(s){t.$set(t.mypost,"sort",s)},expression:"mypost.sort"}})],1)]),e("div",{staticClass:"row q-mt-lg"},[e("div",{staticClass:"col-4"},[t._v("发布时间:")]),e("div",{staticClass:"col"},[e("q-datetime",{attrs:{inverted:"",color:"blue",type:"datetime"},model:{value:t.mypost.publishedDate,callback:function(s){t.$set(t.mypost,"publishedDate",s)},expression:"mypost.publishedDate"}})],1)]),e("div",{staticClass:"row q-mt-lg"},[e("div",{staticClass:"col-2",staticStyle:{"line-height":"35px"}},[t._v("状态:")]),e("div",{staticClass:"col"},[e("q-option-group",{attrs:{inline:"",type:"radio",color:"secondary",options:[{label:"草稿",value:1,color:"faded"},{label:"发布",value:2,color:"primary"},{label:"删除",value:3,color:"red"}]},model:{value:t.mypost.status,callback:function(s){t.$set(t.mypost,"status",s)},expression:"mypost.status"}})],1)])]),e("q-card-separator"),e("q-card-actions",{attrs:{align:"end"}},[e("q-btn",{attrs:{color:"blue"},on:{click:t.savePost}},[t._v("保存")])],1)],1)],1)])},o=[];a._withStripped=!0;e("f3/d"),e("a1Th"),e("KKXr"),e("ls82");var i=e("yXPU"),l=e.n(i),n=e("4IOb"),r={data:function(){return{mypost:{id:"",title:"",catelog:"sy",tags:[],keyWord:[],status:0,sort:0,mdContent:"",htmlContent:"",shortContent:"",isTimePublish:"",publishedDate:""},catelogs:[{label:"首页通知",value:"sy"},{label:"前端",value:"qd"},{label:"后端",value:"hd"},{label:"生活",value:"sh"}],tagOptions:[{label:"wepack",value:"wepack"},{label:"vue",value:"vue"},{label:"quasar",value:"quasar"},{label:"react",value:"react"},{label:"angular",value:"angular"}]}},methods:{fetchData:function(){var t=l()(regeneratorRuntime.mark(function t(){var s,e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$route.params.id){t.next=3;break}return this.post={id:"",title:"",catelog:"",tags:[],keyWord:[],status:0,sort:0,mdContent:"",htmlContent:"",shortContent:"",isTimePublish:"",publishedDate:void 0},t.abrupt("return");case 3:return t.prev=3,t.next=6,getPost(this.$route.params.id);case 6:s=t.sent,e=s.data.data,e.tags=e.tags.split(","),""!=e.keyWord?e.keyWord=e.keyWord.split(","):e.keyWord=[],0==e.publishedDate&&(e.publishedDate=void 0),this.post=e,t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](3);case 16:case"end":return t.stop()}},t,this,[[3,14]])}));return function(){return t.apply(this,arguments)}}(),editorChange:function(t,s){this.post.htmlContent=s},savePost:function(t){function s(){return t.apply(this,arguments)}return s.toString=function(){return t.toString()},s}(l()(regeneratorRuntime.mark(function t(){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=[],console.log(this.$route.path),""==this.post.title&&s.push("标题不能为空"),""==this.post.shortContent&&s.push("简述不能为空"),""==this.post.mdContent&&s.push("内容不能为空"),""==this.post.catelog&&s.push("分类不能为空"),!(s.length>0)){t.next=9;break}return this.$q.notify({type:"negative",message:s.join(","),position:"bottom-right",actions:[{label:"关闭",handler:function(){console.log("关闭")}}]}),t.abrupt("return");case 9:return t.prev=9,t.next=12,savePost(this.post);case 12:this.$q.notify({type:"positive",message:"保存成功",position:"bottom-right",actions:[{label:"关闭",handler:function(){console.log("关闭")}}]}),t.next=17;break;case 15:t.prev=15,t.t0=t["catch"](9);case 17:case"end":return t.stop()}},t,this,[[9,15]])}))),get:function(){console.log(this.post.catelog)},setDate:function(){var t=Date.now(),s=n["date"].formatDate(t,"YYYY-MM-DDTHH:mm:00.SSSZ");console.log(s),this.mypost.publishedDate=s}},watch:{$route:function(t){"post_edit"==t.name&&this.$route.params.id!=this.post.id&&this.fetchData()}},mounted:function(){this.fetchData(),this.setDate()}},c=r,p=(e("q3y3"),e("KHd+")),u=Object(p["a"])(c,a,o,!1,null,null,null);s["default"]=u.exports},JB7q:function(t,s,e){},q3y3:function(t,s,e){"use strict";var a=e("JB7q"),o=e.n(a);o.a}}]);